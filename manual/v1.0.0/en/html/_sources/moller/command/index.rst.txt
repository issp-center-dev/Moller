Command reference
================================================================

moller
----------------------------------------------------------------

  Generate a batch job script for comprehensive calculation

SYNOPSIS:

  .. code-block:: bash

    moller [-o job_script] input_yaml

DESCRIPTION:

  This program reads a job description file specified by input_yaml, and generates a batch job script. It takes the following command line options.

  - ``-o``, ``--output`` ``job_script``

    specifies output file name. This option supersedes the output_file parameter in the job description file. If no output file is specified, the result is written to the standard output.

  - ``-h``

    displays help and exits.

moller_status
----------------------------------------------------------------

  Reports the status of comprehensive calculation jobs

SYNOPSIS:

  .. code-block:: bash

    moller_status [-h] [--text|--csv|--html] [--ok|--failed|--skipped|--collapsed|--yet] [-o output_file] input_yaml [list_file]

DESCRIPTION:

  This program summarizes the status of tasks in jobs that are executed through the job scripts generated by moller, and outputs a report. The tasks are obtained from the job description file specified by ``input_yaml``. The list of jobs is read from the file specified by ``list_file``. If it is not provided, the job list is extracted from the log files.
  The format of the output is specified by a command line option. The default is the text format. The output file is specified by the ``-o`` or ``--output`` option. If it is not specified, the output is written to the standard output.

  - output formats

    specifies the format of the output by one of the following options. If more than one option are specified, the program terminates with error. The default is the text format.

    - ``--text``
      displays in text format.
    - ``--csv``
      displays in CSV (comma-separated values) format.
    - ``--html``
      displays in HTML format.

  - ``input_yaml``

    specifies the job description file for ``moller``.

  - ``list_file``

    specifies the file that contains list of job directories. If this file is not specified, the list will be obtained from the logfile of the batch job ``stat_{task}.dat``.

  - ``-o``, ``--output`` ``output_file``

    specifies the output file name. If it is omitted, the result is written to the standard output.

  - filter options

    specifies the status of jobs to be displayed by one of the following options. All jobs are displayed by default.

    - ``--ok``
      displays only jobs whose tasks are all completed successfully.

    - ``--failed``
      displays jobs, any of whose tasks are failed with errors, skipped, or not performed.

    - ``--skipped``
      displays jobs, any of whose tasks are skipped.

    - ``--yet``
      displays jobs, any of whose tasks are not yet performed.

    - ``--collapsed``
      displays jobs, any of whose tasks are failed with errors.

    - ``--all``
      displays all jobs. (default)

  - ``-h``

    displays help and exits.

FILES:

  When the programs are executed concurrently using the job script generated by ``moller``, the status of the tasks are written in log files ``stat_{task}.dat``. ``moller_status`` reads these log files and makes a summary.
  
